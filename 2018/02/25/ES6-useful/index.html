<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ES6中最实用的特性 | 冯罡的博客</title>
  <meta name="author" content="Gang Feng">
  
  <meta name="description" content="记录几个ES6中最实用的几个特性,可以很方便地运用到平时开发中。

0.目录
函数参数默认值
模板字符串
解构赋值
对象属性简写
箭头函数
Promise
Let与Const
类
模块化
Set

1.函数参数默认值非ES6:
function foo(height, color)
{
    va">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="ES6中最实用的特性"/>
  <meta property="og:site_name" content="冯罡的博客"/>

  
    <meta property="og:image" content="http://img.debugrun.com/pic/2017/10/9/bc6c7da1b0289dec19f9a31e9df5bd7d.jpg" />
  

  
    <link rel="alternative" href="/atom.xml" title="冯罡的博客" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">冯罡的博客</a><span class="split"></span><span class="title">ES6中最实用的特性</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2018-02-25</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <blockquote>
<p>记录几个ES6中最实用的几个特性,可以很方便地运用到平时开发中。</p>
</blockquote>
<h2 id="0-目录"><a href="#0-目录" class="headerlink" title="0.目录"></a>0.目录</h2><ul>
<li>函数参数默认值</li>
<li>模板字符串</li>
<li>解构赋值</li>
<li>对象属性简写</li>
<li>箭头函数</li>
<li>Promise</li>
<li>Let与Const</li>
<li>类</li>
<li>模块化</li>
<li>Set</li>
</ul>
<h2 id="1-函数参数默认值"><a href="#1-函数参数默认值" class="headerlink" title="1.函数参数默认值"></a>1.函数参数默认值</h2><h4 id="非ES6"><a href="#非ES6" class="headerlink" title="非ES6:"></a>非ES6:</h4><pre><code>
function foo(height, color)
{
    var height = height || 50
    var color = color || 'red'
    //...
}
</code></pre>
这样写一般没什么问题，但是当我们这样调用`foo`函数时：
<pre><code>
foo(0)
</code></pre>
`0`将进行强制类型转换为`false`,于是`height`就成了50。这显然不是我们所期望的。

#### ES6：
<pre><code>
function foo(height = 50, color = 'red')
{
    // ...
}
</code></pre>
上面这种情况就能得到很好地解决。


## 2.模板字符串

#### 非ES6:
<pre><code>
var name = 'Your name is ' + first + ' ' + last + '.'
</code></pre>
只能使用`+`来进行字符串的拼接,这样不仅麻烦,而且在拼接的内容较复杂时,可读性会变得非常差,最重要的是非常容易出错!

#### ES6：

<pre><code>
var name = `Your name is ${first} ${last}.`
</code></pre>
变量直接放在`${}`中,代码简洁,直观。


## 3.解构赋值

#### 非ES6:
如获取对象属性值时:
<pre><code>
var data = $('body').data()  // data有house和mouse属性
var house = data.house
var mouse = data.mouse
</code></pre>

<h4 id="ES6"><a href="#ES6" class="headerlink" title="ES6:"></a>ES6:</h4><p>获取对象属性值时:</p>
<pre><code>
var { house, mouse} = $('body').data()
</code></pre>
对于数组:
<pre><code>
var [col1, col2]  = $('.column')
</code></pre>

<h2 id="4-对象属性简写"><a href="#4-对象属性简写" class="headerlink" title="4.对象属性简写"></a>4.对象属性简写</h2><h4 id="非ES6-1"><a href="#非ES6-1" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>当对象的<code>key</code>值和<code>value</code>的引用名称相同时:</p>
<pre><code>
var bar = 'bar'
var foo = function ()
{
    // ...
}
var baz = {
  bar: bar,
  foo: foo
}
</code></pre>

<h4 id="ES6-1"><a href="#ES6-1" class="headerlink" title="ES6:"></a>ES6:</h4><p>对象中直接写变量，非常简单：</p>
<pre><code>
var bar = 'bar'
var foo = function ()
{
    // ...
}
var baz = { bar, foo }
</code></pre>

<h2 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5.箭头函数"></a>5.箭头函数</h2><h4 id="非ES6-2"><a href="#非ES6-2" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>普通函数体内的<code>this</code>, 指向调用该函数的对象。</p>
<pre><code>
function foo() 
{
    console.log(this.id)
}
var id = 1
foo() // 输出1
foo.call({ id: 2 }) // 输出2
</code></pre>

<h4 id="ES6-2"><a href="#ES6-2" class="headerlink" title="ES6:"></a>ES6:</h4><p>箭头函数内的<code>this</code>，就是定义该函数时this所指向的对象，而不是调用时所在的对象。</p>
<pre><code>
var foo = () => {
  console.log(this.id)
}
var id = 1
foo() // 输出1
foo.call({ id: 2 }) // 输出1
</code></pre>

<h2 id="6-Promise"><a href="#6-Promise" class="headerlink" title="6.Promise"></a>6.Promise</h2><h4 id="非ES6-3"><a href="#非ES6-3" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>嵌套两个setTimeout回调函数：</p>
<pre><code>
setTimeout(function()
{
    console.log('Hello') // 1秒后输出"Hello"
    setTimeout(function()
    {
        console.log('Fundebug') // 2秒后输出"Fundebug"
    }, 1000)
}, 1000)
</code></pre>

<h4 id="ES6-3"><a href="#ES6-3" class="headerlink" title="ES6:"></a>ES6:</h4><p>使用两个then是异步编程串行化，避免了回调嵌套回调：</p>
<pre><code>
var wait1000 = new Promise(function(resolve, reject)
{
    setTimeout(resolve, 1000)
})
wait1000
    .then(function()
    {
        console.log("Hello") // 1秒后输出"Hello"
        return wait1000
    })
    .then(function()
    {
        console.log("Fundebug") // 2秒后输出"Fundebug"
    })
</code></pre>

<h2 id="7-Let与Const"><a href="#7-Let与Const" class="headerlink" title="7.Let与Const"></a>7.Let与Const</h2><h4 id="非ES6-4"><a href="#非ES6-4" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>var定义的变量没有块级作用域：</p>
<pre><code>
{
  var a = 10
}
console.log(a) // 输出10
</code></pre>

<h4 id="ES6-4"><a href="#ES6-4" class="headerlink" title="ES6:"></a>ES6:</h4><p>let定义的变量为块级作用域，因此会报错：</p>
<pre><code>
{
  let a = 10
  const b = 10
}
console.log(a) // “ReferenceError: a is not defined”
console.log(b) // “ReferenceError: b is not defined”
</code></pre>

<h2 id="8-Class"><a href="#8-Class" class="headerlink" title="8.Class"></a>8.Class</h2><h4 id="非ES6-5"><a href="#非ES6-5" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>使用构造函数创建对象：</p>
<pre><code>
function Point(x, y)
{
    this.x = x
    this.y = y
    this.add = function()
    {
        return this.x + this.y
    }
}
var p = new Point(1, 2)
console.log(p.add()) // 输出3
</code></pre>

<h4 id="ES6-5"><a href="#ES6-5" class="headerlink" title="ES6:"></a>ES6:</h4><p>使用Class定义类，更加规范，继承实现起来也很方便：</p>
<pre><code>
class Point
{
    constructor(x, y)
    {
        this.x = x
        this.y = y
    }
    add()
    {
        return this.x + this.y
    }
}
var p = new Point(1, 2)
console.log(p.add()) // 输出3
</code></pre>

<h2 id="9-模块化"><a href="#9-模块化" class="headerlink" title="9.模块化"></a>9.模块化</h2><p>JavaScript一直没有官方的模块化解决方案，开发者在实践中主要采用<code>CommonJS</code>和<code>AMD</code>规范。而ES6制定了模块(<code>Module</code>)功能。</p>
<h4 id="非ES6-6"><a href="#非ES6-6" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>Node.js采用<code>CommenJS</code>规范实现了模块化，而前端也可以采用，只是在部署时需要使用Browserify等工具打包。这里不妨介绍一下<code>CommenJS</code>规范。<br>module.js中使用module.exports导出port变量和getAccounts函数：</p>
<pre><code>
// module.js
module.exports = {
  port: 3000,
  getAccounts: function() {
    ...
  }
}
</code></pre>
main.js中使用require导入module.js：
<pre><code>
// main.js
var service = require('module.js')
console.log(service.port) // 输出3000
</code></pre>

<h4 id="ES6-6"><a href="#ES6-6" class="headerlink" title="ES6:"></a>ES6:</h4><p>ES6中使用export与import关键字实现模块化。<br>module.js中使用export导出port变量和getAccounts函数：</p>
<pre><code>
// module.js
export var port = 3000
export function getAccounts(url) {
  ...
}
</code></pre>
main.js中使用import导入module.js，可以指定需要导入的变量：
<pre><code>
// main.js
import {port, getAccounts} from 'module'
console.log(port) // 输出3000
</code></pre>
也可以将全部变量导入：
<pre><code>
// main.js
import * as service from 'module'
console.log(service.port) // 3000
</code></pre>

<h2 id="10-Set"><a href="#10-Set" class="headerlink" title="10.Set"></a>10.Set</h2><p>Set可以用来数组或者类数组的去重,十分方便。</p>
<h4 id="非ES6-7"><a href="#非ES6-7" class="headerlink" title="非ES6:"></a>非ES6:</h4><p>使用indexOf去重:</p>
<pre><code>
var arr=[1,3,5,4,3,3,1,4]
function noRepeat(arr) {
  var result = []
  for(var i = 0; i<arr.length; i++)="" {="" if(result.indexof(arr[i])="==" -1)="" result.push(arr[i])="" }="" return="" result="" norepeat(arr)="" <="" code=""></arr.length;></code></pre>

<h4 id="ES6-7"><a href="#ES6-7" class="headerlink" title="ES6:"></a>ES6:</h4><pre><code>
const set = new Set([1, 2, 3, 4, 4])
[...set]   // [1, 2, 3, 4]
</code></pre>




<p>参考链接：</p>
<ul>
<li><p><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ECMAScript 6 入门</a>  </p>
</li>
<li><p><a href="http://www.jqhtml.com/10638.html" target="_blank" rel="noopener">http://www.jqhtml.com/10638.html</a>  </p>
</li>
</ul>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
		
	
		
	
		
			
		
	
		
	
		
			
			
		
	
		
			
			
			
	
	
		<li class="prev"><a href="/2018/03/30/mpvue/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/2018/02/24/windows-install-jekyll/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 Gang Feng
  
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
