$(document).ready(function(){function t(t,e){var o=t.width(),a=e.width(),n=t.height(),i=e.height(),r=!1;if(n<i){t.css({width:"auto",height:"100%"}),o=t.width(),a=e.width();var s=(o-a)/2;t.css("margin-left","-"+s+"px"),r=!0}else{var c=(i-n)/2;t.css("margin-top",c+"px"),r=!0}r&&(t.fadeIn(),r=!1)}function e(){var t=$("#search_input"),e=$(".search_result");t.focus(function(){$(".icon-search").css("color","#3199DB"),e.show()}),t.keyup(o(this.autoComplete)),$(document).click(function(t){"search_input"!==t.target.id&&"search_result"!==t.target.className&&"search_item"!==t.target.className&&($(".icon-search").css("color","#CAD3DC"),e.hide())})}function o(t,e){var o;return e=e||120,function(){var a=this,n=arguments,i=function(){t.apply(a,n)};clearTimeout(o),o=setTimeout(i,e)}}function a(t){t+="\n\n著作权归作者所有。\n商业转载请联系作者获得授权,非商业转载请注明出处。\n原文: "+location.href,$(".post-content").on("copy",function(e){(window.clipboardData||e.originalEvent.clipboardData).setData("text/plain",t),e.preventDefault()})}if($("#menu-toggle").on("click",function(t){$(".g-nav").slideToggle(200),$(document).one("click",function(){$(".g-nav").slideUp(200)}),t.stopPropagation()}),$(".g-nav").on("click",function(t){t.stopPropagation()}),$(window).width()>695){var n=$(".g-header"),i=n.outerHeight(),r=$(".g-logo"),s=$(".g-nav a"),c=$(".g-banner").attr("data-theme"),l=$(document).scrollTop();$(document).scroll(function(){var t=$(this).scrollTop();t>i?(t>3*i&&n.addClass("headerUp"),n.css({"background-color":"rgba(255, 255, 255, .98)","box-shadow":"0 1px 12px rgba(0, 0, 0, .08)"}),r.css({background:"url(/assets/icons/logo_"+c+".svg) no-repeat center","background-size":"100% 100%"}),s.css("color","#666"),$(".g-nav").addClass("nav-"+c)):(n.removeClass("headerUp"),n.css({"background-color":"transparent","box-shadow":"none"}),r.css({background:"url(/assets/icons/logo.svg) no-repeat center","background-size":"100% 100%"}),s.css("color","#fff"),$(".g-nav").removeClass("nav-"+c)),l>t?n.addClass("headerDown"):n.removeClass("headerDown"),l=t})}$(".read-next-item section").each(function(){var t=$(this),e=t.height(),o=$(".read-next-item").height();t.css("margin-top",(o-e)/2+"px"),t.fadeIn()}),$(".read-next-item img").each(function(){t($(this),$(".read-next-item"))}),function(){for(var t=parseInt($("#total_pages").val()),e=parseInt($("#current_pages").val()),o=$("#base_url").val(),a="",n=e-3;n<e;n++)n>0&&1!==n?a+='<a href="'+o+"page"+n+'" class="page-link page-num">'+n+"</a>":1===n&&(a+='<a href="'+o+'" class="page-link page-num">'+n+"</a>");a+='<span class="page-link page-num active">'+e+"</span>";for(var i=e+1;i<=e+3;i++)i<=t&&(a+='<a href="'+o+"page"+i+'" class="page-link page-num">'+i+"</a>");$("#page-link-container").html(a)}(),e.prototype.autoComplete=function(){var t=this.value.toLowerCase();t.length?$(".icon-search").css("color","#3199DB"):$(".icon-search").css("color","#CAD3DC"),$.getJSON("../../search.json").done(function(e){var o="";for(var a in e){var n=e[a],i=n.title,r=n.tags,s=(n.url,i+r);""!==t&&s.toLowerCase().indexOf(t)>=0&&(o+='<a class="search_item" href="'+n.url+'">'+n.title+"</a>")}$(".search_result").html(o)})},new e,"true"===$("#nm-switch").val()&&function(){var t=$("body"),e=new Date,o=e.getHours();(o>=0&&o<=6||23===o)&&t.addClass("night-mode")}(),$(".post-content").on("mouseup",function(t){var e=window.getSelection();e.toString().length>=30&&a(e)}),function(){var t=$("#bing-img");t.on("load",function(){t.fadeIn()})}(),function(){var t=["https://ghostratel.github.io/portfolio/FM/index.html#/channel","https://ghostratel.github.io/portfolio/Music/index.html#/recommend","https://ghostratel.github.io/portfolio/eleme/index.html#/goods","https://ghostratel.github.io/portfolio/LocalWeather/index.html","https://ghostratel.github.io/portfolio/Wikipedia Viewer/index.html","https://ghostratel.github.io/portfolio/RandomQuoteMachine/index.html","https://ghostratel.github.io/portfolio/Todo list/index.html"],e=document.getElementsByClassName("portfolio-img");Array.prototype.forEach.call(e,function(o){o.addEventListener("click",function(o){var a=Array.prototype.indexOf.call(e,o.target);window.open(t[a],"_blank")})})}()});