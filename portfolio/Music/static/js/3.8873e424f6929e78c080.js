webpackJsonp([3,6],{"8Lk/":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s("Dd8w"),e=s.n(n),a=s("NYxO"),r=s("5zc9"),o=s("qwAB"),l=s("y/jF"),c=s("9Wym"),u=s("F4+m"),h=(u.a,e()({},Object(a.b)(["randomPlay","selectPlay"]),{goBack:function(){this.$router.back()},_setHeight:function(){this.imgHeight=this.$refs["bg-img"].clientHeight,this.listHeight=document.documentElement.clientHeight-this.$refs["bg-img"].clientHeight,this.$refs.list.style.height=this.listHeight+"px"},randomPlayAll:function(){this.randomPlay({list:this.topList})},select:function(t,i){this.selectPlay({list:this.topList,index:i})},handlePlaylist:function(){var t=this,i=void 0;i=this.playlist.length>0?"60px":"",this.$nextTick(function(){t.$refs.list.style.paddingBottom=i,t.$refs.scroll.refresh()})}}),e()({},Object(a.c)(["topList"]),{bgImg:function(){return"background: url('"+this.rankList.picUrl+"') no-repeat;\n              backgroundSize: 100% 100%"}}),r.a,o.a,l.a,c.a,{mixins:[u.a],props:{rankList:{}},data:function(){return{songs:[]}},methods:e()({},Object(a.b)(["randomPlay","selectPlay"]),{goBack:function(){this.$router.back()},_setHeight:function(){this.imgHeight=this.$refs["bg-img"].clientHeight,this.listHeight=document.documentElement.clientHeight-this.$refs["bg-img"].clientHeight,this.$refs.list.style.height=this.listHeight+"px"},randomPlayAll:function(){this.randomPlay({list:this.topList})},select:function(t,i){this.selectPlay({list:this.topList,index:i})},handlePlaylist:function(){var t=this,i=void 0;i=this.playlist.length>0?"60px":"",this.$nextTick(function(){t.$refs.list.style.paddingBottom=i,t.$refs.scroll.refresh()})}}),computed:e()({},Object(a.c)(["topList"]),{bgImg:function(){return"background: url('"+this.rankList.picUrl+"') no-repeat;\n              backgroundSize: 100% 100%"}}),mounted:function(){if(!this.topList.length)return this.$router.back(),!1;this._setHeight()},components:{MusicList:r.a,Scroll:o.a,loading:l.a,list:c.a}}),f={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("transition",{attrs:{name:"slide"}},[t.topList.length>0?s("div",{attrs:{id:"rankList"}},[s("i",{staticClass:"iconfont icon-back",on:{click:t.goBack}}),t._v(" "),s("div",{ref:"bg-img",style:t.bgImg,attrs:{id:"bgImg"}},[s("div",{attrs:{id:"mask"}},[s("div",{attrs:{id:"randomPlayAll"},on:{click:function(i){return i.stopPropagation(),t.randomPlayAll(i)}}},[s("i",{staticClass:"iconfont icon-playfill"}),t._v(" "),s("span",[t._v("随机播放全部")])])])]),t._v(" "),s("div",{ref:"list",attrs:{id:"list"}},[s("Scroll",{ref:"scroll",attrs:{listen:!0}},[t.topList.length>0?s("list",{attrs:{songs:t.topList,isRank:!0},on:{select:t.select}}):t._e()],1)],1),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:!t.topList.length>0,expression:"!topList.length > 0"}]})],1):t._e()])},staticRenderFns:[]};var g=s("VU/8")(h,f,!1,function(t){s("OGHF")},"data-v-2f0fabf8",null);i.default=g.exports},DqCn:function(t,i){},OGHF:function(t,i){},efbk:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s("Dd8w"),e=s.n(n),a=s("Gak4");function r(){return Object(a.a)({url:"https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg",params:{g_tk:5381,uin:0,format:"jsonp",inCharset:"utf-8",outCharset:"utf-8",notice:0,platform:"h5",needNewCode:1,_:1518333056826},callback:"jsonpCallback"})}var o=s("qwAB"),l=s("NYxO"),c=s("8Lk/");function u(t){var i={g_tk:5381,uin:0,format:"jsonp",inCharset:"utf-8",outCharset:"utf-8",notice:0,platform:"h5",needNewCode:1,tpl:3,page:"detail",type:"top",topid:t,_:1518349779807};return Object(a.a)({url:"https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",params:i,callback:"jsonpCallback"})}var h=s("PvFA"),f=s("F4+m"),g=(f.a,e()({},Object(l.d)({SET_TOPLIST:"SET_TOPLIST"}),{_getRank:function(){var t=this;r().then(function(i){t.rankLists=i.data.topList})},_selectRank:function(t){var i=this;this.currentList=t,u(t.id).then(function(s){var n=s.songlist.map(function(t){return t.data}),e=Object(h.a)(n);i.SET_TOPLIST(e),i.$router.push("/rank/"+t.id)})},handlePlaylist:function(){var t=this,i=void 0;i=this.playlist.length>0?"60px":"",setTimeout(function(){t.$refs.rank.style.bottom=i,t.$refs.scroll.refresh()},500)}}),e()({},Object(l.c)(["topList"])),o.a,c.default,{mixins:[f.a],data:function(){return{rankLists:[],currentList:{}}},created:function(){this._getRank()},methods:e()({},Object(l.d)({SET_TOPLIST:"SET_TOPLIST"}),{_getRank:function(){var t=this;r().then(function(i){t.rankLists=i.data.topList})},_selectRank:function(t){var i=this;this.currentList=t,u(t.id).then(function(s){var n=s.songlist.map(function(t){return t.data}),e=Object(h.a)(n);i.SET_TOPLIST(e),i.$router.push("/rank/"+t.id)})},handlePlaylist:function(){var t=this,i=void 0;i=this.playlist.length>0?"60px":"",setTimeout(function(){t.$refs.rank.style.bottom=i,t.$refs.scroll.refresh()},500)}}),computed:e()({},Object(l.c)(["topList"])),components:{scroll:o.a,RankList:c.default}}),d={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.rankLists.length>0?s("div",{ref:"rank",attrs:{id:"rank"}},[s("scroll",{ref:"scroll"},[s("ul",t._l(t.rankLists,function(i,n){return t.rankLists.length>0?s("li",{key:n,staticClass:"rank-item",on:{click:function(s){s.stopPropagation(),t._selectRank(i)}}},[s("div",{staticClass:"item-left"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.picUrl,expression:"list.picUrl"}],staticClass:"list-img"})]),t._v(" "),s("div",{staticClass:"item-right"},[s("span",[t._v("1."+t._s(i.songList[0].songname)+"-"+t._s(i.songList[0].singername))]),t._v(" "),s("span",[t._v("2."+t._s(i.songList[1].songname)+"-"+t._s(i.songList[1].singername))]),t._v(" "),s("span",[t._v("3."+t._s(i.songList[2].songname)+"-"+t._s(i.songList[2].singername))])])]):t._e()}))]),t._v(" "),t.rankLists.length>0?s("router-view",{attrs:{rankList:t.currentList}}):t._e()],1):t._e()},staticRenderFns:[]};var p=s("VU/8")(g,d,!1,function(t){s("DqCn")},"data-v-36d9b621",null);i.default=p.exports}});
//# sourceMappingURL=3.8873e424f6929e78c080.js.map