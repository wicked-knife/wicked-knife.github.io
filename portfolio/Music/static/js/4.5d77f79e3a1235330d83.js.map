{"version":3,"sources":["webpack:///./src/common/api/singerList.js","webpack:///./src/components/singer-detail/singer-detail.vue","webpack:///./src/components/singer-detail/singer-detail.vue?d81c","webpack:///./src/components/singer-detail/singer-detail.vue?53e7","webpack:///./src/common/api/singer.js","webpack:///./src/components/Singer/Singer.vue","webpack:///./src/components/Singer/Singer.vue?d39e","webpack:///./src/components/Singer/Singer.vue?9b43"],"names":["getSingerList","id","PARAMS","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","singermid","order","begin","num","songstatus","Object","jsonp","url","params","callback","extends_default","vuex_esm","Music_List","data","songs","methods","goBack","this","$router","back","_getSingerList","_this","singer","then","song","list","push","computed","created","components","MusicList","components_singer_detail_singer_detail","render","_h","$createElement","_c","_self","attrs","name","staticClass","on","click","_v","avatar","length","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","singer_detail_singer_detail","ssrContext","__webpack_exports__","getSinger","channel","key","page","pagesize","pagenum","mixin","scroll_scroll","singer_detail","_getSinger","_this4","singerList","_moveScrollSinger","event","offset","touches","pageY","shortcutTop","shortcutBottom","shortcutOffset","$refs","scrollToElement","currentIndex","_clickScrollSinger","index","scroll","positon","currentY","Math","abs","floor","y","selectSinger","path","setSinger","handlePlaylist","_this5","bottom","top","playlist","style","offsetTop","clientHeight","$nextTick","refresh","mixins","singerDetail","fixedSingerlist","hot","hotSingerlist","sort","sortedSingerlist","unshift","filter","group","items","item","forEach","obj","Fsinger_name","Fsinger_mid","arr","split","type","title","Findex","shortcutList","map","substring","singerListTop","_this2","height","delta","i","mounted","_this3","setTimeout","components_Singer_Singer","_vm","ref","listen","_l","refInFor","_s","$event","directives","rawName","value","expression","char","class","active","stopPropagation","touchmove","preventDefault","Singer_Singer"],"mappings":"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","file":"static/js/4.5d77f79e3a1235330d83.js","sourcesContent":["import jsonp from '../js/jsonp'\r\nexport function getSingerList (id) {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n  const PARAMS = {\r\n    g_tk: 5381,\r\n    loginUin: 0,\r\n    hostUin: 0,\r\n    format: 'jsonp',\r\n    inCharset: 'utf8',\r\n    outCharset: 'utf-8',\r\n    notice: 0,\r\n    platform: 'yqq',\r\n    needNewCode: 0,\r\n    singermid: id,\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 30,\r\n    songstatus: 1\r\n  }\r\n  const CALLBACKNAME = 'jsonpCallback'\r\n  return jsonp({url: URL, params: PARAMS, callback: CALLBACKNAME})\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/singerList.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport { getSingerList } from '../../common/api/singerList'\r\nimport {createSingerSong} from '../../common/js/song'\r\nimport MusicList from '@/components/Music-List/Music-List'\r\nexport default {\r\n  data () {\r\n    return {\r\n      songs: {}\r\n    }\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      this.$router.back()\r\n    },\r\n    _getSingerList (id) {\r\n      // 如果用户在当前页面刷新直接返回歌手页\r\n      if (!this.singer.id) {\r\n        this.$router.push('/singer')\r\n      } else {\r\n        getSingerList(id).then(data => {\r\n          this.songs = createSingerSong(data.data.list)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['singer'])\r\n  },\r\n  created () {\r\n    this._getSingerList(this.singer.id)\r\n  },\r\n  components: {\r\n    MusicList\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/singer-detail/singer-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{attrs:{\"id\":\"singer-detail\"}},[_c('i',{staticClass:\"iconfont icon-back\",on:{\"click\":_vm.goBack}}),_vm._v(\" \"),(this.singer.avatar && this.songs.length)?_c('music-list',{attrs:{\"singer\":this.singer,\"songs\":_vm.songs}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29de25f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29de25f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29de25f8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29de25f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","import jsonp from '../js/jsonp'\r\nexport function getSinger () {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n  const PARAMS = {\r\n    channel: 'singer',\r\n    key: 'all_all_all',\r\n    g_tk: 1858198544,\r\n    format: 'jsonp',\r\n    outCharset: 'utf-8',\r\n    platform: 'yqq',\r\n    page: 'list',\r\n    hostUin: 0,\r\n    inCharset: 'utf8',\r\n    notice: 0,\r\n    needNewCode: 0,\r\n    pagesize: 100,\r\n    pagenum: 1\r\n  }\r\n  const CALLBACKNAME = 'jsonpCallback'\r\n  return jsonp({\r\n    url: URL,\r\n    params: PARAMS,\r\n    callback: CALLBACKNAME\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/singer.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getSinger } from '../../common/api/singer.js'\r\nimport scroll from '@/base/scroll/scroll'\r\nimport singerDetail from '@/components/singer-detail/singer-detail'\r\nimport { mapMutations } from 'vuex'\r\nimport { playlistMixin } from '../../common/js/mixin'\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data () {\r\n    return {\r\n      singerList: [],\r\n      shortcutTop: 0,\r\n      shortcutBottom: 0,\r\n      shortcutOffset: 0,\r\n      currentY: 0\r\n    }\r\n  },\r\n  components: {\r\n    scroll,\r\n    singerDetail\r\n  },\r\n  computed: {\r\n    fixedSingerlist () {\r\n      let hot = this.hotSingerlist\r\n      let sort = this.sortedSingerlist\r\n      sort.unshift(hot)\r\n      return sort.filter((group, index) => {\r\n        return group.items.length !== 0\r\n      })\r\n    },\r\n    hotSingerlist () {\r\n      let hot = {}\r\n      hot.title = '热门'\r\n      hot.items = []\r\n      this.singerList\r\n        .filter((item, index) => {\r\n          return index < 10\r\n        })\r\n        .forEach((item, index) => {\r\n          let obj = {}\r\n          obj.name = item.Fsinger_name\r\n          obj.avatar = `http://y.gtimg.cn/music/photo_new/T001R300x300M000${\r\n            item.Fsinger_mid\r\n          }.jpg?max_age=2592000`\r\n          obj.id = item.Fsinger_mid\r\n          hot.items.push(obj)\r\n        })\r\n      return hot\r\n    },\r\n    sortedSingerlist () {\r\n      let arr = []\r\n      let type = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('')\r\n      type.forEach((type, index) => {\r\n        let obj = {}\r\n        obj.title = type\r\n        obj.items = []\r\n        arr.push(obj)\r\n      })\r\n      this.singerList.forEach((singer, index) => {\r\n        arr.forEach((type, index) => {\r\n          if (singer.Findex === type.title) {\r\n            let obj = {}\r\n            obj.name = singer.Fsinger_name\r\n            obj.avatar = `http://y.gtimg.cn/music/photo_new/T001R300x300M000${\r\n              singer.Fsinger_mid\r\n            }.jpg?max_age=2592000`\r\n            obj.id = singer.Fsinger_mid\r\n            type.items.push(obj)\r\n          }\r\n        })\r\n      })\r\n      return arr\r\n    },\r\n    shortcutList () {\r\n      return this.fixedSingerlist.map(type => {\r\n        return type.title.substring(0, 1)\r\n      })\r\n    },\r\n    singerListTop () {\r\n      let arr = [0]\r\n      let height = 0\r\n      this.$nextTick(() => {\r\n        this.$refs['scroll-hook'].forEach((item, index) => {\r\n          height += item.clientHeight\r\n          arr.push(height)\r\n        })\r\n      })\r\n      return arr\r\n    },\r\n    currentIndex () {\r\n      let index = 0\r\n      let currentY = this.currentY\r\n      if (!this.shortcutOffset) {\r\n        index = 0\r\n      } else {\r\n        let delta = this.shortcutOffset - this.shortcutTop\r\n        index = Math.floor(delta / 18)\r\n      }\r\n      for (let i = 0; i < this.singerListTop.length - 1; i++) {\r\n        if (\r\n          currentY < this.singerListTop[i + 1] &&\r\n          currentY > this.singerListTop[i]\r\n        ) {\r\n          index = i\r\n        }\r\n      }\r\n      if (currentY === 0) {\r\n        index = 0\r\n      }\r\n      return index\r\n    }\r\n  },\r\n  created () {\r\n    this._getSinger()\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.shortcutTop = this.$refs['shortcut-hook'].offsetTop\r\n      setTimeout(() => {\r\n        this.shortcutBottom =\r\n          this.$refs['shortcut-hook'].clientHeight +\r\n          this.$refs['shortcut-hook'].offsetTop\r\n      }, 500)\r\n    })\r\n  },\r\n  methods: {\r\n    _getSinger () {\r\n      getSinger().then(data => {\r\n        this.singerList = data.data.list\r\n      })\r\n    },\r\n    _moveScrollSinger (event) {\r\n      let _this = this\r\n      let offset = event.touches[0].pageY\r\n      if (offset < this.shortcutTop) {\r\n        offset = this.shortcutTop\r\n      } else if (offset > this.shortcutBottom - 10) {\r\n        offset = this.shortcutBottom - 10\r\n      }\r\n      this.shortcutOffset = offset\r\n      this.$refs['scroll'].scrollToElement(\r\n        _this.$refs['scroll-hook'][_this.currentIndex]\r\n      )\r\n    },\r\n    _clickScrollSinger (event, index) {\r\n      let _this = this\r\n      this.shortcutOffset = event.pageY\r\n      this.$refs['scroll'].scrollToElement(_this.$refs['scroll-hook'][index], 300)\r\n    },\r\n    scroll (positon) {\r\n      this.currentY = Math.abs(Math.floor(positon.y))\r\n    },\r\n    selectSinger (singer) {\r\n      this.$router.push({\r\n        path: `/singer/${singer.id}`\r\n      })\r\n      this.setSinger(singer)\r\n    },\r\n    handlePlaylist () {\r\n      let bottom\r\n      let top\r\n      this.playlist.length > 0 ? (bottom = '60px') : (bottom = '')\r\n      this.playlist.length > 0 ? (top = '-30px') : (top = '0px')\r\n      this.$refs.singer.style.bottom = bottom\r\n      this.$refs['shortcut-hook'].style['margin-top'] = top\r\n      this.shortcutTop = this.$refs['shortcut-hook'].offsetTop\r\n      this.shortcutBottom =\r\n        this.$refs['shortcut-hook'].clientHeight +\r\n        this.$refs['shortcut-hook'].offsetTop\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh()\r\n      })\r\n    },\r\n    ...mapMutations({\r\n      setSinger: 'SET_SINGER'\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Singer/Singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"singer\",attrs:{\"id\":\"singer\"}},[_c('scroll',{ref:\"scroll\",attrs:{\"listen\":true},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.fixedSingerlist),function(group,index){return (_vm.fixedSingerlist.length > 0)?_c('li',{key:index,ref:\"scroll-hook\",refInFor:true,staticClass:\"singer-group\"},[_c('h3',{staticClass:\"group-name\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_c('ul',_vm._l((group.items),function(singer,index){return (group)?_c('li',{key:index,staticClass:\"singer\",on:{\"click\":function($event){_vm.selectSinger(singer)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(singer.avatar),expression:\"singer.avatar\"}],staticClass:\"singer-avatar\"}),_vm._v(\" \"),_c('span',{staticClass:\"singer-name\"},[_vm._v(_vm._s(singer.name))])]):_vm._e()}))]):_vm._e()}))]),_vm._v(\" \"),_c('div',{ref:\"shortcut-hook\",attrs:{\"id\":\"shortcut-list-warpper\"}},[_c('ul',{attrs:{\"id\":\"shortcut-list\"}},_vm._l((_vm.shortcutList),function(char,index){return (_vm.shortcutList.length)?_c('li',{key:index,ref:\"shortcut\",refInFor:true,staticClass:\"shortcut\",class:{'active': _vm.currentIndex === index},on:{\"click\":function($event){$event.stopPropagation();_vm._clickScrollSinger($event, index)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();_vm._moveScrollSinger($event)}}},[_vm._v(\"\\n          \"+_vm._s(char)+\"\\n        \")]):_vm._e()}))]),_vm._v(\" \"),(_vm.singerList.length)?_c('div',{attrs:{\"id\":\"fixed-title\"}},[_vm._v(_vm._s(_vm.fixedSingerlist[_vm.currentIndex].title))]):_vm._e()],1),_vm._v(\" \"),(_vm.singerList.length)?_c('router-view'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40f0010a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Singer/Singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40f0010a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40f0010a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40f0010a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Singer/Singer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}