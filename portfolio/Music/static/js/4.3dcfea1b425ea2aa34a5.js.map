{"version":3,"sources":["webpack:///./src/common/api/singerList.js","webpack:///./src/components/singer-detail/singer-detail.vue","webpack:///./src/components/singer-detail/singer-detail.vue?8c58","webpack:///./src/components/singer-detail/singer-detail.vue?53e7","webpack:///./src/common/api/singer.js","webpack:///./src/components/Singer/Singer.vue","webpack:///./src/components/Singer/Singer.vue?89a9","webpack:///./src/components/Singer/Singer.vue?9b43"],"names":["getSingerList","id","PARAMS","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","singermid","order","begin","num","songstatus","jsonp","url","params","callback","singer_detail_singer_detail","computed","mapGetters","MusicList","data","songs","methods","goBack","this","$router","back","_getSingerList","_this","singer","then","createSingerSong","list","push","created","components","components_singer_detail_singer_detail","render","_h","$createElement","_c","_self","attrs","name","staticClass","on","click","_v","avatar","length","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","getSinger","channel","key","page","pagesize","pagenum","Singer_Singer","playlistMixin","scroll","singerDetail","_getSinger","_this4","singerList","_moveScrollSinger","event","offset","touches","pageY","shortcutTop","shortcutBottom","shortcutOffset","$refs","scrollToElement","currentIndex","_clickScrollSinger","index","positon","currentY","Math","abs","floor","y","selectSinger","path","setSinger","handlePlaylist","_this5","bottom","top","playlist","style","offsetTop","clientHeight","timerID","setInterval","clearInterval","refresh","mapMutations","mixins","fixedSingerlist","hot","hotSingerlist","sort","sortedSingerlist","unshift","filter","group","items","item","forEach","obj","Fsinger_name","Fsinger_mid","arr","split","type","title","Findex","shortcutList","map","substring","singerListTop","_this2","height","$nextTick","delta","i","mounted","_this3","setTimeout","components_Singer_Singer","_vm","ref","listen","_l","refInFor","_s","$event","directives","rawName","value","expression","char","class","active","stopPropagation","touchmove","preventDefault"],"mappings":"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","file":"static/js/4.3dcfea1b425ea2aa34a5.js","sourcesContent":["import jsonp from '../js/jsonp'\r\nexport function getSingerList (id) {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n  const PARAMS = {\r\n    g_tk: 5381,\r\n    loginUin: 0,\r\n    hostUin: 0,\r\n    format: 'jsonp',\r\n    inCharset: 'utf8',\r\n    outCharset: 'utf-8',\r\n    notice: 0,\r\n    platform: 'yqq',\r\n    needNewCode: 0,\r\n    singermid: id,\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 30,\r\n    songstatus: 1\r\n  }\r\n  const CALLBACKNAME = 'jsonpCallback'\r\n  return jsonp({url: URL, params: PARAMS, callback: CALLBACKNAME})\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/singerList.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport { getSingerList } from '../../common/api/singerList'\r\nimport {createSingerSong} from '../../common/js/song'\r\nimport MusicList from '@/components/Music-List/Music-List'\r\nexport default {\r\n  data () {\r\n    return {\r\n      songs: {}\r\n    }\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      this.$router.back()\r\n    },\r\n    _getSingerList (id) {\r\n      // 如果用户在当前页面刷新直接返回歌手页\r\n      if (!this.singer.id) {\r\n        this.$router.push('/singer')\r\n      } else {\r\n        getSingerList(id).then(data => {\r\n          this.songs = createSingerSong(data.data.list)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['singer'])\r\n  },\r\n  created () {\r\n    this._getSingerList(this.singer.id)\r\n  },\r\n  components: {\r\n    MusicList\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/singer-detail/singer-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{attrs:{\"id\":\"singer-detail\"}},[_c('i',{staticClass:\"iconfont icon-back\",on:{\"click\":_vm.goBack}}),_vm._v(\" \"),(this.singer.avatar && this.songs.length)?_c('music-list',{attrs:{\"singer\":this.singer,\"songs\":_vm.songs}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b5eb012\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b5eb012\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b5eb012\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b5eb012\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer-detail/singer-detail.vue\n// module id = null\n// module chunks = ","import jsonp from '../js/jsonp'\r\nexport function getSinger () {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n  const PARAMS = {\r\n    channel: 'singer',\r\n    key: 'all_all_all',\r\n    g_tk: 1858198544,\r\n    format: 'jsonp',\r\n    outCharset: 'utf-8',\r\n    platform: 'yqq',\r\n    page: 'list',\r\n    hostUin: 0,\r\n    inCharset: 'utf8',\r\n    notice: 0,\r\n    needNewCode: 0,\r\n    pagesize: 100,\r\n    pagenum: 1\r\n  }\r\n  const CALLBACKNAME = 'jsonpCallback'\r\n  return jsonp({\r\n    url: URL,\r\n    params: PARAMS,\r\n    callback: CALLBACKNAME\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/singer.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getSinger } from '../../common/api/singer.js'\nimport scroll from '@/base/scroll/scroll'\nimport singerDetail from '@/components/singer-detail/singer-detail'\nimport { mapMutations } from 'vuex'\nimport { playlistMixin } from '../../common/js/mixin'\nexport default {\n  mixins: [playlistMixin],\n  data () {\n    return {\n      singerList: [],\n      shortcutTop: 0,\n      shortcutBottom: 0,\n      shortcutOffset: 0,\n      currentY: 0\n    }\n  },\n  components: {\n    scroll,\n    singerDetail\n  },\n  computed: {\n    fixedSingerlist () {\n      let hot = this.hotSingerlist\n      let sort = this.sortedSingerlist\n      sort.unshift(hot)\n      return sort.filter((group, index) => {\n        return group.items.length !== 0\n      })\n    },\n    hotSingerlist () {\n      let hot = {}\n      hot.title = '热门'\n      hot.items = []\n      this.singerList\n        .filter((item, index) => {\n          return index < 10\n        })\n        .forEach((item, index) => {\n          let obj = {}\n          obj.name = item.Fsinger_name\n          obj.avatar = `http://y.gtimg.cn/music/photo_new/T001R300x300M000${\n            item.Fsinger_mid\n          }.jpg?max_age=2592000`\n          obj.id = item.Fsinger_mid\n          hot.items.push(obj)\n        })\n      return hot\n    },\n    sortedSingerlist () {\n      let arr = []\n      let type = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('')\n      type.forEach((type, index) => {\n        let obj = {}\n        obj.title = type\n        obj.items = []\n        arr.push(obj)\n      })\n      this.singerList.forEach((singer, index) => {\n        arr.forEach((type, index) => {\n          if (singer.Findex === type.title) {\n            let obj = {}\n            obj.name = singer.Fsinger_name\n            obj.avatar = `http://y.gtimg.cn/music/photo_new/T001R300x300M000${\n              singer.Fsinger_mid\n            }.jpg?max_age=2592000`\n            obj.id = singer.Fsinger_mid\n            type.items.push(obj)\n          }\n        })\n      })\n      return arr\n    },\n    shortcutList () {\n      return this.fixedSingerlist.map(type => {\n        return type.title.substring(0, 1)\n      })\n    },\n    singerListTop () {\n      let arr = [0]\n      let height = 0\n      this.$nextTick(() => {\n        this.$refs['scroll-hook'].forEach((item, index) => {\n          height += item.clientHeight\n          arr.push(height)\n        })\n      })\n      return arr\n    },\n    currentIndex () {\n      let index = 0\n      let currentY = this.currentY\n      if (!this.shortcutOffset) {\n        index = 0\n      } else {\n        let delta = this.shortcutOffset - this.shortcutTop\n        index = Math.floor(delta / 18)\n      }\n      for (let i = 0; i < this.singerListTop.length - 1; i++) {\n        if (\n          currentY < this.singerListTop[i + 1] &&\n          currentY > this.singerListTop[i]\n        ) {\n          index = i\n        }\n      }\n      if (currentY === 0) {\n        index = 0\n      }\n      return index\n    }\n  },\n  created () {\n    this._getSinger()\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.shortcutTop = this.$refs['shortcut-hook'].offsetTop\n      setTimeout(() => {\n        this.shortcutBottom =\n          this.$refs['shortcut-hook'].clientHeight +\n          this.$refs['shortcut-hook'].offsetTop\n      }, 500)\n    })\n  },\n  methods: {\n    _getSinger () {\n      getSinger().then(data => {\n        this.singerList = data.data.list\n      })\n    },\n    _moveScrollSinger (event) {\n      let _this = this\n      let offset = event.touches[0].pageY\n      if (offset < this.shortcutTop) {\n        offset = this.shortcutTop\n      } else if (offset > this.shortcutBottom - 10) {\n        offset = this.shortcutBottom - 10\n      }\n      this.shortcutOffset = offset\n      this.$refs['scroll'].scrollToElement(\n        _this.$refs['scroll-hook'][_this.currentIndex]\n      )\n    },\n    _clickScrollSinger (event, index) {\n      let _this = this\n      this.shortcutOffset = event.pageY\n      this.$refs['scroll'].scrollToElement(_this.$refs['scroll-hook'][index], 300)\n    },\n    scroll (positon) {\n      this.currentY = Math.abs(Math.floor(positon.y))\n    },\n    selectSinger (singer) {\n      this.$router.push({\n        path: `/singer/${singer.id}`\n      })\n      this.setSinger(singer)\n    },\n    handlePlaylist () {\n      let bottom\n      let top\n      this.playlist.length > 0 ? (bottom = '60px') : (bottom = '')\n      this.playlist.length > 0 ? (top = '-30px') : (top = '0px')\n      this.$refs.singer.style.bottom = bottom\n      this.$refs['shortcut-hook'].style['margin-top'] = top\n      this.shortcutTop = this.$refs['shortcut-hook'].offsetTop\n      this.shortcutBottom =\n        this.$refs['shortcut-hook'].clientHeight +\n        this.$refs['shortcut-hook'].offsetTop\n      const timerID = setInterval(() => {\n        if (this.$refs.scroll) {\n          clearInterval(timerID)\n          this.$refs.scroll.refresh()\n        }\n      }, 200)\n    },\n    ...mapMutations({\n      setSinger: 'SET_SINGER'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Singer/Singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"singer\",attrs:{\"id\":\"singer\"}},[_c('scroll',{ref:\"scroll\",attrs:{\"listen\":true},on:{\"scroll\":_vm.scroll}},[(_vm.fixedSingerlist.length > 0)?_c('ul',_vm._l((_vm.fixedSingerlist),function(group,index){return _c('li',{key:index,ref:\"scroll-hook\",refInFor:true,staticClass:\"singer-group\"},[_c('h3',{staticClass:\"group-name\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),(group)?_c('ul',_vm._l((group.items),function(singer,index){return _c('li',{key:index,staticClass:\"singer\",on:{\"click\":function($event){return _vm.selectSinger(singer)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(singer.avatar),expression:\"singer.avatar\"}],staticClass:\"singer-avatar\"}),_vm._v(\" \"),_c('span',{staticClass:\"singer-name\"},[_vm._v(_vm._s(singer.name))])])}),0):_vm._e()])}),0):_vm._e()]),_vm._v(\" \"),_c('div',{ref:\"shortcut-hook\",attrs:{\"id\":\"shortcut-list-warpper\"}},[(_vm.shortcutList.length)?_c('ul',{attrs:{\"id\":\"shortcut-list\"}},_vm._l((_vm.shortcutList),function(char,index){return _c('li',{key:index,ref:\"shortcut\",refInFor:true,staticClass:\"shortcut\",class:{'active': _vm.currentIndex === index},on:{\"click\":function($event){$event.stopPropagation();return _vm._clickScrollSinger($event, index)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm._moveScrollSinger($event)}}},[_vm._v(\"\\n          \"+_vm._s(char)+\"\\n        \")])}),0):_vm._e()]),_vm._v(\" \"),(_vm.singerList.length)?_c('div',{attrs:{\"id\":\"fixed-title\"}},[_vm._v(_vm._s(_vm.fixedSingerlist[_vm.currentIndex].title))]):_vm._e()],1),_vm._v(\" \"),(_vm.singerList.length)?_c('router-view'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6aa24498\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Singer/Singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6aa24498\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6aa24498\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6aa24498\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Singer/Singer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}