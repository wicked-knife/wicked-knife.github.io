{"version":3,"sources":["webpack:///./src/common/api/hotKey.js","webpack:///./src/components/Search/Search.vue","webpack:///./src/components/Search/Search.vue?b2d5","webpack:///./src/components/Search/Search.vue?25a6"],"names":["getHotKey","jsonp","url","params","g_tk","uin","format","inCharset","outCharset","notice","platform","needNewCode","_","callback","Search_Search","playlistMixin","search","computed","mapGetters","methods","mapActions","_getHotKey","_this","this","then","res","hotKey","data","hotkey","slice","_selectHotKey","query","trim","$refs","setQuery","deleteOne","deleteFromHistory","showConfirm","confirmShow","onConfirm","emptySearchHistory","onCancel","pickHistory","handlePlaylist","_this2","searchHistory","length","bottom","playlist","setTimeout","style","refresh","fresh","SearchBox","Suggest","SearchList","Confirm","scroll","mixins","components","created","mounted","_this3","height","document","documentElement","clientHeight","components_Search_Search","render","_vm","_h","$createElement","_c","_self","attrs","id","on","touchstart","ref","queryChange","_v","directives","name","rawName","value","expression","_l","key","index","staticClass","click","$event","k","_s","_e","stopPropagation","delete","select","saveSearch","title","on-cancel","on-confirm","model","$$v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.97b4e052d510b0450a92.js","sourcesContent":["import jsonp from '../js/jsonp'\r\nexport function getHotKey () {\r\n  const URL = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\r\n  const PARAMS = {\r\n    g_tk: 5381,\r\n    uin: 0,\r\n    format: 'jsonp',\r\n    inCharset: 'utf-8',\r\n    outCharset: 'utf-8',\r\n    notice: 0,\r\n    platform: 'h5',\r\n    needNewCode: 1,\r\n    _: 1518414659356\r\n  }\r\n  const CALLBACKNAME = 'jsonpCallback'\r\n  return jsonp({ url: URL, params: PARAMS, callback: CALLBACKNAME })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/api/hotKey.js","\nimport SearchBox from '@/base/search-box/search-box'\nimport Suggest from '@/components/Suggest/Suggest'\nimport SearchList from '@/base/search-list/search-list'\nimport scroll from '@/base/scroll/scroll'\nimport { playlistMixin, search } from '@/common/js/mixin'\nimport Confirm from 'vux/src/components/confirm/index.vue'\n\nimport { getHotKey } from '@/common/api/hotKey'\nimport { trim } from '@/common/js/utils'\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\nmixins: [playlistMixin, search],\ndata () {\nreturn {\nhotKey: [],\nconfirmShow: false\n}\n},\ncomputed: {\n...mapGetters(['searchHistory'])\n},\nmethods: {\n...mapActions([\n'deleteFromHistory',\n'emptySearchHistory'\n]),\n_getHotKey () {\ngetHotKey().then(res => {\nthis.hotKey = res.data.hotkey.slice(0, 10)\n})\n},\n_selectHotKey (query) {\nquery = trim(query)\nthis.$refs['search'].setQuery(query)\n},\ndeleteOne (query) {\nthis.deleteFromHistory(query)\n},\nshowConfirm () {\nthis.confirmShow = true\n},\nonConfirm () {\nthis.emptySearchHistory()\n},\nonCancel () {\nthis.confirmShow = false\n},\npickHistory (query) {\nthis.$refs['search'].setQuery(query)\n},\nhandlePlaylist () {\nif (this.searchHistory.length) {\nlet bottom\nthis.playlist.length ? (bottom = '60px') : (bottom = '')\nsetTimeout(() => {\nthis.$refs['fix-hook'].style['padding-bottom'] = bottom\nthis.$refs['scroll'].refresh()\n}, 500)\n}\n},\nfresh () {\nif (this.searchHistory.length) {\nthis.$refs['scroll'].refresh()\n}\n}\n},\ncomponents: {\nSearchBox,\nSuggest,\nSearchList,\nConfirm,\nscroll\n},\ncreated () {\nthis._getHotKey()\n},\nmounted () {\nif (this.searchHistory.length) {\nsetTimeout(() => {\nthis.$refs['scroll-warpper'].style.height = `${document.documentElement\n.clientHeight - 296}px`\n}, 1000)\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Search/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.hotKey.length)?_c('div',{attrs:{\"id\":\"search\"},on:{\"touchstart\":_vm.fresh}},[_c('search-box',{ref:\"search\",on:{\"queryChange\":_vm.queryChange}}),_vm._v(\" \"),_c('div',[(_vm.hotKey.length)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],attrs:{\"id\":\"hotKey\"}},[_c('h3',{attrs:{\"id\":\"hotKey-title\"}},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(key,index){return _c('li',{key:index,staticClass:\"hotKey-item\",on:{\"click\":function($event){return _vm._selectHotKey(key.k)}}},[_vm._v(\"\\n          \"+_vm._s(key.k))])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.searchHistory.length)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length && !_vm.query),expression:\"searchHistory.length && !query\"}],ref:\"scroll-warpper\",attrs:{\"id\":\"scroll-warpper\"}},[_c('scroll',{ref:\"scroll\",attrs:{\"data\":_vm.searchHistory}},[_c('div',{ref:\"fix-hook\",attrs:{\"id\":\"search-history\"}},[_c('h3',{attrs:{\"id\":\"search-history-title\"}},[_c('span',[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showConfirm($event)}}})]),_vm._v(\" \"),_c('search-list',{on:{\"delete\":_vm.deleteOne,\"select\":_vm.pickHistory}})],1)])],1):_vm._e()]),_vm._v(\" \"),_c('suggest',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],attrs:{\"query\":_vm.query},on:{\"select\":_vm.saveSearch}}),_vm._v(\" \"),_c('Confirm',{attrs:{\"title\":\"是否清空搜索历史\"},on:{\"on-cancel\":_vm.onCancel,\"on-confirm\":_vm.onConfirm},model:{value:(_vm.confirmShow),callback:function ($$v) {_vm.confirmShow=$$v},expression:\"confirmShow\"}}),_vm._v(\" \"),_c('router-view')],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f447227a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f447227a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f447227a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f447227a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}