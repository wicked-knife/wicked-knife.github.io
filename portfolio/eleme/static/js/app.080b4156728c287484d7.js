webpackJsonp([1],{"+EAh":function(t,s){},"546d":function(t,s){},"6vHL":function(t,s){},HUrf:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAkCAYAAADVeVmEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjhCMERGODc0RDYwMTFFNkJGNzlFOUVCREZEMzI2ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjhCMERGODg0RDYwMTFFNkJGNzlFOUVCREZEMzI2ODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2OEIwREY4NTRENjAxMUU2QkY3OUU5RUJERkQzMjY4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2OEIwREY4NjRENjAxMUU2QkY3OUU5RUJERkQzMjY4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpkNE6kAAAOnSURBVHja7Fm/M2NRFL75wSaxsxoKBX8BnYqKjoaSSmFnVHTMFootaOiomNlCp6ShVNHp6FTMrh2aZdaSZCN7v+OdzMl138t9eTEbSc7MneTFyb33O/ec73w3Yr+6usaUUt/06FGNbdd6zMY04B9NALYEOt5EYGE9cdVk1gLc6Jb4ksl8dXH8MDenkqOjKjkwoGKpFH1WvL/3j2Rvr+rY3yffwump22b6+1Vme5u+m+jrU4Wzs9f7WFxU6dVVlRgcJB+VzarizY0zYLB00cWxY29PJYeHS89/j49pBAUo1tlJ7/MHB+pxYUEV7+5ebT61tETAaL7DQ1qH53+YnCSf4tWVesa4vFQfj45K8+J7j/Pz9Iq9Be2HLVltamABGYAgaxsfp9c/MzO+J4tgALBpCAgbgJlBhGV2dmiN7NaWelpefhvAud1dldcjKCOkZdfXo9efDowMIgdSZhV8EFgzmyIDRnq5pJA8naiW8wLcPjVVVlbt09NU97Qvnfp+YN8dS+eNrAJYZA6CL33eJKXjmiFda7gaQ62mVlbKucA7WckjvBdn7ql2Q0irdmMDUetTAsSzrFmZytUQZ/Qa9tpEEIuHPdGEx8B+xgzMgWHixLMZnJoAZpB4xUJBpCX7qYtx3zWt8/bWl/iYOINIKhRgpFBybOxFGOgeiT7Hp0GCQC/Em0CU8TmdulZgcvOYB/6urclPRJg1DXaGr+vpVgQc01Qv+50Eh0XQ95BmCASeZRqzb2JoqCQe4GNTXCZRIUA2EWECQyvidvQmNWyKCQYft0TY5ovAJbQWf5iYoLIwT/XTxUW5dvcCyKVEde6tJVtSenOTfBHISukdCvDT2loplWRkC3rxuMGg7GsyKTZqgqWLiFce0hfy8ffICAFNb2yU/Y3nxXzQ07Y5IwPmGsRCDBgLgi3NHinrtQyEjzAAWNS9JCnMwSkuNTT6rkxvgIUP5qik6OpGadlICqAAFANAUNM5fX006x7pj7TGTaqSNkiqOrY2IW5IiBgsbfscGZHXHaXml4daW+HkxFpC1iujEBp88rI3BxFX/QC21B7dkS2pLgH5+dS0Lbk0evYNEvZMZgAbRi1FsVCAw+hjF19m3pyn4OruV8u77m4aLinEvtyPrZcF76edvKVO/8sJg0iwYZNQQBLcKjgV+TJh+j6fn7+A1vra7JOYx1RHLEyCbmJyrbCl4PyrZaNY6z8PLcAtwO8f8HUT4f0JwJ/xpgnAftdj9p8AAwCeZRLH3XUY/AAAAABJRU5ErkJggg=="},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),r={props:{size:{},score:{}},computed:{stars:function(){for(var t=Math.floor(2*this.score)/2,s=Math.floor(t),i=t%1!=0,e="star_"+this.size+" star_on",r="star_"+this.size+" star_half",a="star_"+this.size+" star_off",o=[],n=0;n<s;n++)o.push(e);for(i&&o.push(r);5!==o.length;)o.push(a);return o}}},a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"stars"}},this._l(this.stars,function(t){return s("i",{key:t.index,staticClass:"star",class:t})}))},staticRenderFns:[]};var o=i("VU/8")(r,a,!1,function(t){i("+EAh")},"data-v-165956c7",null).exports,n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"line_title"},[i("div",{staticClass:"line"}),i("div",{staticClass:"title"},[t._v(t._s(t.title))]),i("div",{staticClass:"line"})])},staticRenderFns:[]};var l=i("VU/8")({props:{title:{}}},n,!1,function(t){i("OjAp")},"data-v-c03c8020",null).exports,c={render:function(){var t=this,s=t.$createElement;return(t._self._c||s)("div",{class:[t.logo_size[t.size],t.logo_type[t.type],t.isOppo[t.type]],attrs:{id:"preferential"}})},staticRenderFns:[]};var d=i("VU/8")({props:{type:{},size:{},oppo:{}},data:function(){return{logo_type:["decrease","discount","special","invoice","guarantee"],logo_size:{small:"small",medium:"medium",large:"large"}}},computed:{isOppo:function(){return this.oppo?["decrease_oppo","discount_oppo","special_oppo","invoice","guarantee"]:this.logo_type}}},c,!1,function(t){i("bNep")},"data-v-368b1be8",null).exports,_={props:{seller:{}},components:{stars:o,lineTitle:l,preferential:d},data:function(){return{isDetailShow:!1}},methods:{showDetail:function(){this.isDetailShow=!0},closeDetail:function(){this.isDetailShow=!1}}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"header"}},[e("div",{attrs:{id:"content_warpper"}},[e("div",{attrs:{id:"header_container"}},[e("div",{attrs:{id:"header_content"}},[e("img",{attrs:{src:t.seller.avatar,id:"avatar"}}),t._v(" "),e("div",{attrs:{id:"header_textbox"}},[e("img",{attrs:{src:i("HUrf"),id:"brand"}}),t._v(" "),e("span",{attrs:{id:"seller_name"}},[t._v(t._s(t.seller.name))]),e("br"),t._v(" "),e("span",{attrs:{id:"delivery"}},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?e("preferential",{attrs:{type:t.seller.supports[0].type,size:"small"}}):t._e(),t._v(" "),t.seller.supports?e("span",{attrs:{id:"preferential_text"}},[t._v(t._s(t.seller.supports[0].description))]):t._e(),t._v(" "),e("div",{attrs:{id:"supports"},on:{click:t.showDetail}},[t.seller.supports?e("span",{attrs:{id:"supports_count"}},[t._v(t._s(t.seller.supports.length)+"个")]):t._e(),t._v(" "),e("i",{staticClass:"iconfont icon-xiangyou1"})])],1)])]),t._v(" "),e("div",{attrs:{id:"bulletin"},on:{click:t.showDetail}},[e("img",{attrs:{src:i("xEnR"),id:"bulletin_logo"}}),t._v(" "),e("span",{attrs:{id:"bulletin_text"}},[t._v(t._s(t.seller.bulletin))]),t._v(" "),e("i",{staticClass:"iconfont icon-xiangyou1"})]),t._v(" "),t.seller.avatar?e("div",{attrs:{id:"bg_blur"}},[e("img",{attrs:{src:t.seller.avatar}})]):t._e()]),t._v(" "),e("div",{attrs:{id:"tab"}},[e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:"/goods"}},[t._v("商品")])],1),t._v(" "),e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:"/ratings"}},[t._v("评论")])],1),t._v(" "),e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDetailShow,expression:"isDetailShow"}],attrs:{id:"detail"}},[e("div",{attrs:{id:"detail_content"}},[e("h1",{attrs:{id:"detail_title"}},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"stars_warpper"},[e("stars",{attrs:{score:t.seller.score,size:48}})],1),t._v(" "),e("lineTitle",{attrs:{title:"优惠信息"}}),t._v(" "),e("ul",{staticClass:"support_list"},t._l(t.seller.supports,function(s){return e("li",{key:s.id},[e("preferential",{staticClass:"detail_logo",attrs:{type:s.type,size:"medium"}}),t._v(" "),e("span",{staticClass:"support_desc"},[t._v(t._s(s.description))])],1)})),t._v(" "),e("lineTitle",{attrs:{title:"商家公告"}}),t._v(" "),e("p",{attrs:{id:"detail_bulletin"}},[t._v(t._s(t.seller.bulletin))])],1),t._v(" "),e("div",{attrs:{id:"detail_close"},on:{click:t.closeDetail}},[e("i",{staticClass:"iconfont icon-guanbi1"})])])])],1)},staticRenderFns:[]};var u=i("VU/8")(_,v,!1,function(t){i("6vHL")},"data-v-7f0d51bc",null).exports,p=i("mtWM"),h=i.n(p),f={name:"App",data:function(){return{seller:{},goods:{},ratings:{}}},components:{commonHeader:u},methods:{},created:function(){var t=this;h()({url:"https://ghostratel.github.io/portfolio/eleme/data.json",method:"get"}).then(function(s){t.seller=s.data.seller,t.goods=s.data.goods,t.ratings=s.data.ratings})}},g={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("common-header",{attrs:{seller:t.seller}}),t._v(" "),i("keep-alive",[t.seller.name&&t.goods.length>0&&t.ratings.length>0?i("router-view",{attrs:{seller:t.seller,goods:t.goods,ratings:t.ratings}}):t._e()],1)],1)},staticRenderFns:[]};var m=i("VU/8")(f,g,!1,function(t){i("546d")},null,null).exports,C=i("/ocq"),w=i("GQaK"),A={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart_control"},[i("transition",{attrs:{name:"show"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.food.count&&0!==t.food.count,expression:"food.count && food.count !== 0"}],staticClass:"cart_decrease iconfont icon-chiping",on:{click:function(s){s.stopPropagation(),t.decrease(t.food)}}})]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count&&0!==t.food.count,expression:"food.count && food.count !== 0"}],staticClass:"food_count"},[t._v(t._s(t.food.count))]),t._v(" "),i("i",{staticClass:"cart_add iconfont icon-roundaddfill",on:{click:function(s){s.stopPropagation(),t.add(t.food)}}})],1)},staticRenderFns:[]};var b=i("VU/8")({props:{food:{}},methods:{decrease:function(t){t.count&&t.count--},add:function(t){t.count?this.food.count++:this.$set(t,"count",1)}}},A,!1,function(t){i("QmU6")},"data-v-242c721b",null).exports,y={props:{foodList:{},seller:{}},components:{cartControl:b},data:function(){return{cartScroll:{},isShow:!1}},computed:{total_count:function(){var t=0;return this.foodList.forEach(function(s){s.count&&(t+=s.count)}),t},total_price:function(){var t=0;return this.foodList.forEach(function(s){s.count&&(t+=s.price*s.count)}),t},isOK:function(){return this.total_price?this.total_price>0&&this.total_price<this.seller.minPrice?"还差"+(this.seller.minPrice-this.total_price)+"元起送":this.total_price>=this.seller.minPrice?"去结算":void 0:"￥20起送"},cart_list:function(){return this.foodList.filter(function(t){if(t.count)return t})}},watch:{cart_list:function(t,s){this.cartScroll.refresh()}},methods:{show:function(){console.log(this.cart_list)},empty_cart:function(){this.cart_list.forEach(function(t){t.count=0}),this.isShow=!1},_initScroll:function(){this.cartScroll=new w.a(this.$refs["cart-warpper"],{probeType:3,click:!0})},toggle_Cart:function(){this.cart_list.length>0&&(this.isShow=!this.isShow)},hide_mask:function(){this.isShow=!1},pay:function(){this.total_price>this.seller.minPrice&&alert("支付"+this.total_price)}},mounted:function(){this.$nextTick(this._initScroll())}},k={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"cart-warpper"}},[i("div",{staticClass:"cart"},[i("div",{staticClass:"cart_left",on:{click:t.toggle_Cart}},[i("div",{staticClass:"cart_logo"},[i("i",{staticClass:"iconfont icon-cart_fill_light",class:{cart_active:t.total_count>=0}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total_count,expression:"total_count"}],staticClass:"total_count"},[t._v("\r\n          "+t._s(t.total_count)+"\r\n        ")])]),t._v(" "),i("span",{staticClass:"total_price"},[t._v("\r\n        ￥"+t._s(t.total_price)+"\r\n      ")]),t._v(" "),i("span",{staticClass:"delivery_price"},[t._v("还需要配送费用￥"+t._s(t.seller.deliveryPrice)+"元")])]),t._v(" "),i("div",{staticClass:"cart_right",class:{cart_active:t.total_price>=t.seller.minPrice},on:{click:t.pay}},[t._v("\r\n      "+t._s(t.isOK)+"\r\n    ")]),t._v(" "),i("transition",{attrs:{name:"fold"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow&&t.cart_list.length>0,expression:"isShow && cart_list.length > 0"}],attrs:{id:"cart_detail"}},[i("div",{attrs:{id:"cart_detail_title"}},[i("span",[t._v("购物车")]),t._v(" "),i("span",{attrs:{id:"empty_cart"},on:{click:function(s){s.stopPropagation(),t.empty_cart(s)}}},[t._v("清空")])]),t._v(" "),i("div",{ref:"cart-warpper",attrs:{id:"cart_detail_list"}},[i("ul",t._l(t.cart_list,function(s,e){return t.cart_list?i("li",{key:e,staticClass:"cart_item"},[i("div",{staticClass:"for_bodder"},[i("span",[t._v(t._s(s.name))]),t._v(" "),i("cartControl",{staticClass:"for_position",attrs:{food:s}})],1)]):t._e()}))])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow&&t.cart_list.length>0,expression:"isShow && cart_list.length > 0"}],attrs:{id:"detail-mask"},on:{click:t.hide_mask}})])},staticRenderFns:[]};var G=i("VU/8")(y,k,!1,function(t){i("uzBy")},"data-v-5e8a3370",null).exports,F={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"split"})},staticRenderFns:[]};var Y=i("VU/8")({},F,!1,function(t){i("cRgN")},"data-v-3c0aaccc",null).exports,E={props:{selectedFood:{}},components:{split:Y,cartControl:b},data:function(){return{isShow:!1,food_warpper:{},isContent:!0,isGood:!1,isBad:!1,isAll:!0}},methods:{show_food:function(){this.isShow=!0},_close:function(){this.isShow=!1,this._init_data()},_toggleIsContent:function(){this.isContent=!this.isContent},_add_cart:function(){this.selectedFood.count?this.selectedFood.count++:this.$set(this.selectedFood,"count",1)},_toggle_all:function(){this.isAll=!this.isAll,this.isGood=!1,this.isBad=!1},_toggle_good:function(){this.isGood=!this.isGood,this.isAll=!1,this.isBad=!1},_toggle_bad:function(){this.isBad=!this.isBad,this.isAll=!1,this.isGood=!1},_init_data:function(){this.isContent=!0,this.isGood=!1,this.isBad=!1,this.isAll=!0},timeFormat:function(t){var s=new Date(t),i=s.getFullYear(),e=s.getMonth()+1;e<10&&(e="0"+e);var r=s.getDate();return r<10&&(r="0"+r),i+"-"+e+"-"+r+" "+s.getHours()+":"+s.getMinutes()}},mounted:function(){this.food_warpper=new w.a(this.$refs["food-warpper"],{click:!0})},computed:{good_ratings:function(){return this.selectedFood.ratings.filter(function(t){return 0===t.rateType})},bad_ratings:function(){return this.selectedFood.ratings.filter(function(t){return 1===t.rateType})},all_ratings:function(){if(this.isContent){if(this.isAll)return this.selectedFood.ratings.filter(function(t){return t.text});if(this.isGood)return this.good_ratings.filter(function(t){return t.text});if(this.isBad)return this.bad_ratings.filter(function(t){return t.text})}else{if(this.isAll)return this.selectedFood.ratings.filter(function(t){return t});if(this.isGood)return this.good_ratings.filter(function(t){return t});if(this.isBad)return this.bad_ratings.filter(function(t){return t})}}}},N={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],ref:"food-warpper",staticClass:"food"},[i("div",{attrs:{id:"warpper"}},[i("i",{staticClass:"iconfont icon-xiangzuo1 back",on:{click:t._close}}),t._v(" "),i("div",{attrs:{id:"image_warpper"}},[i("img",{attrs:{src:t.selectedFood.image,id:"food_image"}})]),t._v(" "),i("div",{attrs:{id:"food_title_warpper"}},[i("h3",{attrs:{id:"food_title"}},[t._v(t._s(t.selectedFood.name))]),t._v(" "),i("span",{attrs:{id:"food_sell"}},[t._v("月售"+t._s(t.selectedFood.sellCount)+"份")]),t._v(" "),i("span",{attrs:{id:"food_ratings"}},[t._v("好评率"+t._s(t.selectedFood.rating)+"%")]),t._v(" "),i("div",{attrs:{id:"price_warpper"}},[i("span",{attrs:{id:"food_price"}},[t._v("￥"+t._s(t.selectedFood.price))]),t._v(" "),t.selectedFood.oldPrice?i("span",{attrs:{id:"food_oldprice"}},[t._v("￥"+t._s(t.selectedFood.oldPrice))]):t._e(),t._v(" "),i("div",{attrs:{id:"control_warpper"}},[t.selectedFood.count>0?i("div",{attrs:{id:"for_cartcontrol"}},[i("cartControl",{attrs:{food:t.selectedFood}})],1):t._e(),t._v(" "),t.selectedFood.count&&0!==t.selectedFood.count?t._e():i("div",{attrs:{id:"add_cart"},on:{click:t._add_cart}},[t._v("加入购物车")])])])]),t._v(" "),i("split"),t._v(" "),t.selectedFood.info?i("div",{attrs:{id:"food_desc_warpper"}},[i("h3",[t._v("商品介绍")]),t._v(" "),i("p",{attrs:{id:"food_desc"}},[t._v(t._s(t.selectedFood.info))])]):t._e(),t._v(" "),t.selectedFood.info?i("split"):t._e(),t._v(" "),i("div",{attrs:{id:"food_ratings_warpper"}},[i("div",{attrs:{id:"food_ratings_head"}},[i("h3",[t._v("商品评价")]),t._v(" "),i("div",{staticClass:"clearfix",attrs:{id:"ratings_type_warpper"}},[i("div",{staticClass:"rating_type",class:{active:t.isAll},attrs:{id:"all_rating"},on:{click:t._toggle_all}},[t._v("全部 "),i("span",[t._v(t._s(t.selectedFood.ratings.length))])]),t._v(" "),i("div",{staticClass:"rating_type",class:{active:t.isGood},attrs:{id:"good_rating"},on:{click:t._toggle_good}},[t._v("推荐 "),i("span",[t._v(t._s(t.good_ratings.length))])]),t._v(" "),i("div",{staticClass:"rating_type",class:{active:t.isBad},attrs:{id:"bad_rating"},on:{click:t._toggle_bad}},[t._v("吐槽 "),i("span",[t._v(t._s(t.bad_ratings.length))])])])]),t._v(" "),i("div",{attrs:{id:"only_content"}},[i("i",{staticClass:"iconfont icon-gou",class:{active:t.isContent},on:{click:t._toggleIsContent}}),t._v(" "),i("span",[t._v("只看有内容的评价")])])]),t._v(" "),t.selectedFood.ratings.length>0?i("div",{attrs:{id:"rating_items"}},[i("ul",t._l(t.all_ratings,function(s,e){return i("li",{key:e,staticClass:"rating_item"},[i("div",{staticClass:"rating_info"},[i("span",{staticClass:"rating_time"},[t._v(t._s(t.timeFormat(s.rateTime)))]),i("img",{staticClass:"rating_avatar",attrs:{src:s.avatar}}),t._v(" "),i("span",{staticClass:"rating_id"},[t._v(t._s(s.username))])]),t._v(" "),i("div",{staticClass:"rating_content"},[s.rateType?i("i",{staticClass:"iconfont icon-cai bad"}):i("i",{staticClass:"iconfont icon-zan good"}),t._v(" "),i("span",{staticClass:"rating_comment"},[t._v(t._s(s.text))])])])}))]):t._e()],1)])])},staticRenderFns:[]};var R={props:{seller:{},goods:{}},components:{preferential:d,cart:G,cartControl:b,food:i("VU/8")(E,N,!1,function(t){i("uhql")},"data-v-5c482cec",null).exports},data:function(){return{goodsHeight:[0],goodsList:[],menuList:[],menuScroll:{},goodsScroll:{},currentY:0,selectedFood:{}}},computed:{currentIndex:function(){for(var t=0;t<this.goodsHeight.length;t++)if(this.currentY>=this.goodsHeight[t]&&this.currentY<this.goodsHeight[t+1])return t},foodList:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){t.push(s)})}),t}},methods:{_initScroll:function(){this.menuScroll=new w.a(this.$refs["menu-warpper"],{click:!0}),this.goodsScroll=new w.a(this.$refs["goods-warpper"],{probeType:3,click:!0}),this.goodsList=this.$refs["goods-warpper"].getElementsByClassName("goods_type_hook"),this.menuList=this.$refs["menu-warpper"].getElementsByClassName("menu_item_hook");for(var t=0,s=0;s<this.goodsList.length;s++)t+=this.goodsList[s].clientHeight,this.goodsHeight.push(t);this._calculateY(this.goodsScroll)},_calculateY:function(t){var s=this;t.on("scroll",function(t){s.currentY=Math.abs(Math.round(t.y)),s.menuScroll.scrollToElement(s.menuList[s.currentIndex],300)})},select_menu:function(t){this.goodsScroll.scrollToElement(this.goodsList[t],300)},showFood:function(){this.$refs["food-detail"].show_food()},select_food:function(t){var s=this;this.selectedFood=t,this.$nextTick(function(){s.showFood()})}},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})}},I={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"goods"}},[i("div",{ref:"menu-warpper",attrs:{id:"menu_warpper"}},[i("ul",t._l(t.goods,function(s,e){return s?i("li",{key:e,staticClass:"menu_item menu_item_hook",class:{current:e===t.currentIndex},on:{click:function(s){t.select_menu(e)}}},[i("span",{staticClass:"menu_text"},[-1!=s.type?i("preferential",{attrs:{type:s.type,size:"small",oppo:!0}}):t._e(),t._v(t._s(s.name))],1)]):t._e()}))]),t._v(" "),i("div",{ref:"goods-warpper",attrs:{id:"goods_items"}},[i("div",{attrs:{id:"for-scroll"}},t._l(t.goods,function(s,e){return i("div",{key:e,staticClass:"goods_type goods_type_hook"},[i("h5",{staticClass:"goods_title"},[t._v(t._s(s.name))]),t._v(" "),t._l(s.foods,function(s,r){return i("div",{key:r,staticClass:"goods_item",on:{click:function(i){t.select_food(s)}}},[i("div",{staticClass:"for_border_bottom"},[i("img",{staticClass:"goods_item_image",attrs:{src:s.icon}}),t._v(" "),i("div",{staticClass:"text_warpper"},[i("h6",{staticClass:"goods_item_title"},[t._v(t._s(s.name))]),t._v(" "),s.description?i("span",{staticClass:"goods_item_desc"},[t._v(t._s(s.description))]):t._e(),t._v(" "),i("span",{staticClass:"sellCount_rating"},[t._v("月售"+t._s(s.sellCount)+"份     好评率"+t._s(s.rating)+"%")]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"goods_item_price"},[t._v("￥"+t._s(s.price))]),t._v(" "),s.oldPrice?i("span",{staticClass:"goods_item_oldPrice"},[t._v("￥"+t._s(s.oldPrice))]):t._e(),t._v(" "),i("cartControl",{attrs:{food:t.goods[e].foods[r]},on:{"update:food":function(s){t.$set(t.goods[e].foods,r,s)}}})],1)])])])})],2)}))]),t._v(" "),t.foodList?i("cart",{attrs:{foodList:t.foodList,seller:t.seller}}):t._e(),t._v(" "),t.selectedFood.name?i("food",{ref:"food-detail",attrs:{selectedFood:t.selectedFood}}):t._e()],1)},staticRenderFns:[]};var x=i("VU/8")(R,I,!1,function(t){i("WLHe")},"data-v-3c7a031d",null).exports,M={props:{ratings:{},seller:{}},components:{stars:o,split:Y},data:function(){return{scrollObj:{},isContent:!0,isGood:!1,isBad:!1,isAll:!0}},computed:{good_ratings:function(){return this.ratings.filter(function(t){return 0===t.rateType})},bad_ratings:function(){return this.ratings.filter(function(t){return 1===t.rateType})},all_ratings:function(){if(this.isContent){if(this.isAll)return this.ratings.filter(function(t){return t.text});if(this.isGood)return this.good_ratings.filter(function(t){return t.text});if(this.isBad)return this.bad_ratings.filter(function(t){return t.text})}else{if(this.isAll)return this.ratings.filter(function(t){return t});if(this.isGood)return this.good_ratings.filter(function(t){return t});if(this.isBad)return this.bad_ratings.filter(function(t){return t})}}},methods:{_toggleIsContent:function(){this.isContent=!this.isContent},_toggle_all:function(){this.isAll=!this.isAll,this.isGood=!1,this.isBad=!1},_toggle_good:function(){this.isGood=!this.isGood,this.isAll=!1,this.isBad=!1},_toggle_bad:function(){this.isBad=!this.isBad,this.isAll=!1,this.isGood=!1},timeFormat:function(t){var s=new Date(t),i=s.getFullYear(),e=s.getMonth()+1;e<10&&(e="0"+e);var r=s.getDate();return r<10&&(r="0"+r),i+"-"+e+"-"+r+" "+s.getHours()+":"+s.getMinutes()}},mounted:function(){var t=this;this.$nextTick(function(){t.scrollObj=new w.a(t.$refs["better-scroll-hook"],{click:!0})})}},Z={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"better-scroll-hook",attrs:{id:"ratings"}},[i("div",[i("div",{attrs:{id:"ratings_overview"}},[i("div",{attrs:{id:"overview_left"}},[i("span",[t._v(t._s(t.seller.score))]),t._v(" "),i("span",[t._v("综合评分")]),t._v(" "),i("span",[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),i("div",{attrs:{id:"overview_right"}},[i("div",[i("span",[t._v("服务态度")]),t._v(" "),i("stars",{attrs:{score:t.seller.serviceScore,size:36}}),t._v(" "),i("span",{staticClass:"tiny_score"},[t._v(t._s(t.seller.serviceScore))])],1),t._v(" "),i("div",[i("span",[t._v("商品评分")]),t._v(" "),i("stars",{attrs:{score:t.seller.foodScore,size:36}}),t._v(" "),i("span",{staticClass:"tiny_score"},[t._v(t._s(t.seller.foodScore))])],1),t._v(" "),i("div",[i("span",[t._v("送达时间")]),t._v(" "),i("span",{attrs:{id:"delivery_time"}},[t._v(t._s(t.seller.deliveryTime)+"分")])])])]),t._v(" "),i("split"),t._v(" "),i("div",{attrs:{id:"seller_ratings_warpper"}},[i("div",{staticClass:"clearfix",attrs:{id:"seller_ratings_header"}},[i("div",{staticClass:"rating_type",class:{active:t.isAll},attrs:{id:"all_rating"},on:{click:t._toggle_all}},[t._v("\n          全部\n          "),i("span",[t._v(t._s(t.ratings.length))])]),t._v(" "),i("div",{staticClass:"rating_type",class:{active:t.isGood},attrs:{id:"good_rating"},on:{click:t._toggle_good}},[t._v("\n          满意\n          "),i("span",[t._v(t._s(t.good_ratings.length))])]),t._v(" "),i("div",{staticClass:"rating_type",class:{active:t.isBad},attrs:{id:"bad_rating"},on:{click:t._toggle_bad}},[t._v("\n          不满意\n          "),i("span",[t._v(t._s(t.bad_ratings.length))])])])]),t._v(" "),i("div",{attrs:{id:"content_only"}},[i("i",{staticClass:"iconfont icon-gou",class:{active:t.isContent},on:{click:t._toggleIsContent}}),t._v(" "),i("span",[t._v("只看有内容的评价")])]),t._v(" "),i("div",{attrs:{id:"seller_ratings_warpper"}},[i("ul",t._l(t.all_ratings,function(s,e){return i("li",{key:e,staticClass:"seller_rating_item"},[i("div",{staticClass:"item_head clearfix"},[i("img",{staticClass:"rating_avatar",attrs:{src:s.avatar}}),t._v(" "),i("div",[i("span",{staticClass:"rating_id"},[t._v(t._s(s.username))]),t._v(" "),i("span",{staticClass:"rating_time"},[t._v(t._s(t.timeFormat(s.rateTime)))])]),t._v(" "),i("div",[i("stars",{attrs:{score:s.score,size:24}}),t._v(" "),i("span",{staticClass:"rating_delivery"},[t._v(t._s(s.deliveryTime)+"分钟送达")])],1)]),t._v(" "),s.text?i("div",{staticClass:"rating_comment"},[t._v("\n            "+t._s(s.text)+"\n          ")]):t._e(),t._v(" "),i("div",{staticClass:"rating_bottom clearfix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!s.rateType,expression:"!rating.rateType"}],staticClass:"iconfont icon-zan"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:s.rateType,expression:"rating.rateType"}],staticClass:"iconfont icon-cai"}),t._v(" "),s.recommend.length>0?i("ul",{staticClass:"recommend_dish_list clearfix"},t._l(s.recommend,function(s,e){return i("li",{key:e,staticClass:"recommend_dish"},[t._v(t._s(s))])})):t._e()])])}))])],1)])},staticRenderFns:[]};var S=i("VU/8")(M,Z,!1,function(t){i("x++r")},"data-v-1a8bdbb3",null).exports,U=i("Y4FN"),L=i.n(U),j={props:{seller:{}},data:function(){return{seller_warpper:{},pics_warpper:{},isFavorite:!1}},components:{stars:o,split:Y,preferential:d},methods:{toggle_favorite:function(){this.isFavorite=!this.isFavorite,L.a.set("favorite",this.isFavorite)}},mounted:function(){var t=this;this.$refs.pics_warpper_hook.style.width=126*this.seller.pics.length+"px",this.$nextTick(function(){t.seller_warpper=new w.a(t.$refs["seller-warpper"],{click:!0}),t.pics_warpper=new w.a(t.$refs["pics-warpper"],{scrollX:!0})}),L.a.get("favorite")&&(this.isFavorite=L.a.get("favorite"))}},D={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"seller-warpper",attrs:{id:"seller"}},[i("div",[i("div",{attrs:{id:"seller_header"}},[i("div",{attrs:{id:"seller_header_top"}},[i("h3",{attrs:{id:"seller_name"}},[t._v(t._s(t.seller.name))]),t._v(" "),i("div",{attrs:{id:"sell_count"}},[i("stars",{attrs:{score:t.seller.score,size:36}}),t._v(" "),i("span",[t._v("   ("+t._s(t.seller.ratingCount)+")    月售"+t._s(t.seller.sellCount)+"单")])],1),t._v(" "),i("div",{attrs:{id:"favorite"}},[i("i",{staticClass:"iconfont icon-like_fill",class:{active:t.isFavorite},on:{click:t.toggle_favorite}}),t._v(" "),t.isFavorite?i("span",[t._v("已收藏")]):i("span",[t._v("收藏")])])]),t._v(" "),i("div",{attrs:{id:"seller_header_bottom"}},[i("div",{attrs:{id:"seller_header_left"}},[i("span",{staticClass:"seller-title"},[t._v("起送价")]),t._v(" "),i("div",[i("span",[t._v(t._s(t.seller.minPrice))]),t._v("元")])]),t._v(" "),i("div",{attrs:{id:"seller_header_middle"}},[i("span",{staticClass:"seller-title"},[t._v("商家配送")]),t._v(" "),i("div",[i("span",[t._v(t._s(t.seller.deliveryPrice))]),t._v("元")])]),t._v(" "),i("div",{attrs:{id:"seller_header_right"}},[i("span",{staticClass:"seller-title"},[t._v("平均配送时间")]),t._v(" "),i("div",[i("span",[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟")])])])]),t._v(" "),i("split"),t._v(" "),i("div",{attrs:{id:"seller_bulletin"}},[i("div",{attrs:{id:"bulletin_text"}},[i("h3",[t._v("公告与活动")]),t._v(" "),i("p",[t._v(t._s(t.seller.bulletin))])]),t._v(" "),t.seller.supports.length?i("div",{attrs:{id:"supports_list"}},[i("ul",t._l(t.seller.supports,function(s,e){return i("li",{key:e,staticClass:"supports_item"},[i("preferential",{attrs:{type:s.type,size:"medium",oppo:!0}}),t._v(" "),i("span",[t._v(t._s(s.description))])],1)}))]):t._e()]),t._v(" "),i("split"),t._v(" "),i("div",{attrs:{id:"seller_pics"}},[i("h3",[t._v("商家实景")]),t._v(" "),i("div",{ref:"pics-warpper",attrs:{id:"pics_warpper"}},[i("div",{ref:"pics_warpper_hook",staticClass:"clearfix"},t._l(t.seller.pics,function(t,s){return i("img",{key:s,attrs:{src:t}})}))])]),t._v(" "),i("split"),t._v(" "),i("div",{attrs:{id:"seller_info"}},[i("h3",[t._v("商家信息")]),t._v(" "),i("ul",t._l(t.seller.infos,function(s,e){return i("li",{key:e,staticClass:"info_item"},[t._v("\n          "+t._s(s)+"\n        ")])}))])],1)])},staticRenderFns:[]};var V=i("VU/8")(j,D,!1,function(t){i("tCjt")},"data-v-273d07e6",null).exports;e.a.use(C.a);var z=new C.a({routes:[{path:"/",redirect:"/goods"},{path:"/goods",component:x},{path:"/ratings",component:S},{path:"/seller",component:V}]});i("uMhA"),i("Xprb");e.a.config.productionTip=!1,new e.a({el:"#app",router:z,components:{App:m},template:"<App/>"})},OjAp:function(t,s){},QmU6:function(t,s){},WLHe:function(t,s){},Xprb:function(t,s){},bNep:function(t,s){},cRgN:function(t,s){},tCjt:function(t,s){},uMhA:function(t,s){},uhql:function(t,s){},uzBy:function(t,s){},"x++r":function(t,s){},xEnR:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAYCAYAAACBbx+6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mjk0NDhEMDg0RDhGMTFFNkJGNzlFOUVCREZEMzI2ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mjk0NDhEMDk0RDhGMTFFNkJGNzlFOUVCREZEMzI2ODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyOTQ0OEQwNjREOEYxMUU2QkY3OUU5RUJERkQzMjY4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyOTQ0OEQwNzREOEYxMUU2QkY3OUU5RUJERkQzMjY4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Puq6d8sAAAM6SURBVHja1FdLTFNBFL0YdrZbS7cI7vjuqoZEI0EwGhKIGkxABbugKNJFaWJ1IZC0JLapKS6IqDVKRK2BxL+uiIaVIrqTzw7aurTt+vnOwAzT+qYfNeo7ycvrm++59557Z1qmaVorEU3pj53+b8T1p7dMJ7xhArKCNAhrZCLsIJOhvJhB8+8WqKG+hqwWy3ZsEkn2NNbXFo6jPg6wV9jY+9nLN7S49IV9V++upKb9jj9HGJt5r4yQxbKTmvY5yDfspuXVNXINDbP+2PTtLEOMMOD2snVAcLDfSYnkN3r+6i3ra6irKYlwQUlMRe+zdzqdEZ6CV3hbeGIy7/yPnz6LeYygHikVUuk0cwQcokLepMMCLceOi+9I0C8k8ODxLF2/sUn2kmeIjhxuNlwDBBD+UoBoRicjQkJFS+JhbG7bM3roZL2e7GynR0/mmPfGxkOsLZc0vMvJ9vacYmsAkAOXBKI16HJmzbNaLYZk8xIGkZnYrLAY2uXJAi1Dd/As9AkYkeZyAVk8HLLHsXYxiVtQw9AuNAogUWDxrbvTzDNIQoQaG7W1HBJzQDqsywRSAnxeN/mvXs4iWwjQb0fXGaWOy1WJwkMGQvAavCsnz4mO9k1j9HAur6yJDWZ0bXMjes4NFCQIb+892GaofSMd/5R08M5p53lGDhtDCgCs5oTldu4VbICIyOGH4SWdu1ulj+uYV6MsaDnYiCe05qOd2oj/mmi7eeee5jjQyp7uPpf2PZVi7R8Wl1gf8HVlVeu/6MldjrXxeRijwtMXr9k4jOfrG8GwrMmWwuPwLryHBJkIBYTl3Ou5SfXXy5o8cCwQyko+OUxnu7tYoiFBizliL+jz91RVGvbJpa6xrrb0ssbP/Pn3C8rDAd+oHPDy6HiQolUR5UYAyKpKmByFaoVReQmDbHjrJEOIcP6PBoIi8fAtVw1EAf2QzD+5rYEQlwLe/E4hg8uA98FLuNmppIGDBMar9vstwihduST58Qyi8nUTJOPJJPk87rw6RqhVksm9JP3S5QeyACm73WZcE6U6XGHbZXjNxCUpk8mwfhijuoqCMK9EMEw1zpR/keIm4psA4T78MAHZdVz8fggwAAhHLI5JzyRSAAAAAElFTkSuQmCC"}},["NHnr"]);
//# sourceMappingURL=app.080b4156728c287484d7.js.map